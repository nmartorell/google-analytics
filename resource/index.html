<div ng-controller="googleAnalyticsDatasetController" >

<form class="dku-form-horizontal">   
    
   <div class="control-group">
       <label class="control-label">Google Service Account</label>
       <div class="controls">
           <select dku-bs-select
                   ng-model="config.service_account"
                   ng-options="service_account.name for service_account in config.service_accounts_list"> <!-- config.service_account is {name, usable} -->
           </select>
           <button ng-click="getAccounts()" class="btn btn--primary link-like">Fetch Account Info</button>
       </div>    
   </div> 

   <div class="control-group">
       <legend class="settings-section-title ng-binding">Query Target</legend>
   </div>
    
   <div class="control-group">
       <label class="control-label">Account</label>
       <div class="controls">
           <select dku-bs-select
                   ng-model="config.account"
                   ng-options="account.name for account in config.accounts_list"
                   ng-change="listWebProperties()"> 
           </select>
       </div>    
   </div>
    
   <div class="control-group">
       <label class="control-label">Web Property</label>
       <div class="controls">
           <select dku-bs-select
                   ng-model="config.web_property"
                   ng-options="web_property.name for web_property in config.web_properties"
                   ng-change="listViews()"> 
           </select>
       </div>    
   </div> 
    
   <div class="control-group">
       <label class="control-label">View</label>
       <div class="controls">
           <select dku-bs-select
                   ng-model="config.view"
                   ng-options="view.name for view in config.views"
                   ng-change="getViewProperties()"> 
           </select>
       </div>    
   </div>     
    
   <div class="control-group">
       <legend class="settings-section-title ng-binding">Query Parameters</legend>
   </div>

   <div class="control-group">
       <label class="control-label">Metrics and Goals</label>
       <div id='control' class="controls" >
           <select dku-bs-select multiple
                   type="text" 
                   ng-model="config.metrics" 
                   ng-options="metric.name for metric in config.metrics_list">
           </select>
           <div class="help-inline ng-binding ng-scope">
               max. 10 (min. 1 mandatory)
           </div>
       </div>
   </div>
    
   <div class="control-group">
       <label class="control-label">Dimensions</label>
       <div id='control' class="controls" >
           <select dku-bs-select multiple
                   type="text"
                   ng-model="config.dimensions" 
                   ng-options="dimension.name for dimension in config.dimensions_list">
           </select>
           <div class="help-inline ng-binding ng-scope">
               max. 9 (optional)
           </div>
       </div>
    </div>
    
    <div class="control-group">
        <label class="control-label">Segments</label>
        <div id='control' class="controls" >
            <select dku-bs-select multiple
                    type="text"
                    ng-model="config.segments" 
                    ng-options="segment.name for segment in config.segments_list">
            </select>
            <div class="help-inline ng-binding ng-scope">
               max. 4 (optional)
            </div>
        </div>
    </div>

    <div class="control-group">
       <legend class="settings-section-title ng-binding">Query Date Range</legend>
   </div>
    
    <div class="control-group">
       <label class="control-label">Start Date</label>
       <input type="text"
              ng-model="config.start_date">
       </input>
       <div class="help-inline ng-binding ng-scope">
           Must be in format YYYY-DD-MM.
       </div>
    </div> 
    
   <div class="control-group">
       <label class="control-label">End Date</label>
       <input type="text"
              ng-model="config.end_date">
       </input>
       <div class="help-inline ng-binding ng-scope">
           Must be in format YYYY-DD-MM.
       </div>
   </div> 

   <div class="control-group">
       <legend class="settings-section-title ng-binding"></legend>
   </div>

</form>
</div>




